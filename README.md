# CallsSip
**CallsSip** - плагин для сайта позволяющий осуществлять звонки через сервера SIP-телефонии. Работа плагина основана на библиотеке [SIP.js](https://sipjs.com/ "SIP.js")

### Подключение
Для ипользования плагна перед объявлением файла скрипта, Вам необходимо определить константу с настройками подключения к SIP-серверу. Ниже приведен пример:
```javascript
const __sipjs = {
	ws: "wss://sip.example.ru:7443",
	server: "sip.example.ru",
	authorizationUsername: '1000',
	authorizationPassword: 'pass',
};
```
- **ws** - полный адрес Вашего WebSocket сервера
- **server** - адрес Вашего SIP сервера
- **authorizationUsername** - логин пользователя
- **authorizationPassword** - пароль пользователя

После этого подключайте файл серипта плагина
```html
<script src="dist/calls-sip.js"></script>
```
Также необходмо подключить файл стилей
```html
<link rel="stylesheet" href="dist/calls-sip.css" />
```
При успешном подключении и регистрации пользователя в правом нижнем углу страницы появится иконка CallsSip. Зеленый цвет будет означать, что все в порядке и можно осуществлять звонки, серая - ошибка в настройках `__sipjs`, красная - ошибка подключения или регистрации на сервере

### Исходящий звонок
Для осуществления исходящего звонка, Вы можете вызвать соответствующий метод объекта CallsSip, передав ему в качестве параметра номер абонента
```javascript
__sipjs.sip.call("1001");
```
Вы также можете обработать событие клика по кнопке
```html
<button type="button" onclick="__sipjs.sip.call("1001");">Звонить</button>
```
[История версий](./docs/versions.md "История версий")